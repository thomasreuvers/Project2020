@using Project.Entities
@model SchematicModel
@{
    ViewData["title"] = "Schematics";
}

<main>
    <div class="container">
        <div class="row">
            @await Component.InvokeAsync("Schematic")
            <div class="col-12 table-responsive">
                <form asp-action="SaveSchematic">
                    <table class="table table-striped" id="createSchematic">
                        <thead class="thead-dark">
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Sets</th>
                                <th>Reps</th>
                                <th>Weight</th>
                            </tr>
                        </thead>

                        <tbody id="table-body">
                        @if (Model?.ActionType != null && Model?.ActionType == "edit")
                        {
                            <input type="hidden" asp-for="Id"/>
                            <input type="hidden" asp-for="ActionType"/>
                            @for(var i = 0; i < Model.Exercises.Count; i++)
                            {
                                <tr>
                                    <td><input class="form-control" asp-for="Exercises[i].Name" value="@Model.Exercises[i].Name"/></td>
                                    <td><input class="form-control" asp-for="Exercises[i].Description" value="@Model.Exercises[i].Description"/></td>
                                    <td><input class="form-control" asp-for="Exercises[i].Sets" value="@Model.Exercises[i].Sets"/></td>
                                    <td><input class="form-control" asp-for="Exercises[i].Reps" value="@Model.Exercises[i].Reps"/></td>
                                    <td><input class="form-control" asp-for="Exercises[i].Weight" value="@Model.Exercises[i].Weight"/></td>
                                </tr>
                            }
                        }
                        else
                        {
                        <tr>
                            <td><input class="form-control" asp-for="Exercises[0].Name" /></td>
                            <td><input class="form-control" asp-for="Exercises[0].Description" /></td>
                            <td><input class="form-control" asp-for="Exercises[0].Sets" /></td>
                            <td><input class="form-control" asp-for="Exercises[0].Reps" /></td>
                            <td><input class="form-control" asp-for="Exercises[0].Weight" /></td>
                        </tr>
                        }
                        <tr class="bg-dark table-footer">
                                <td colspan="2" class="text-left">
                                    <input class="form-control" placeholder="Schematic name" asp-for="SchemaName" />
                                </td>
                                <td colspan="3" class="text-right">
                                    <input type="submit" class="btn btn-success" value="Save" />
                                    <button type="button" class="btn new-exercise btn-primary"><i class="fas fa-plus"></i> New exercise</button>
                                    <button type="button" class="btn remove-exercise btn-danger"><i class="fas fa-trash"></i> Remove exercise</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
        </div>
    </div>

    
    <!-- Modal -->
    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn option-1 btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

</main>
